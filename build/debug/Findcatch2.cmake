
message(STATUS "Conan: Using autogenerated Findcatch2.cmake")
# Global approach
SET(catch2_FOUND 1)
SET(catch2_INCLUDE_DIRS "/home/scott/.conan/data/catch2/2.2.2/bincrafters/stable/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/include")
SET(catch2_INCLUDES "/home/scott/.conan/data/catch2/2.2.2/bincrafters/stable/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/include")
SET(catch2_DEFINITIONS )
SET(catch2_LIBRARIES "") # Will be filled later
SET(catch2_LIBRARIES_TARGETS "") # Will be filled later, if CMake 3
SET(catch2_LIBS "") # Same as catch2_LIBRARIES

mark_as_advanced(catch2_FOUND catch2_INCLUDE_DIRS catch2_INCLUDES
                 catch2_DEFINITIONS catch2_LIBRARIES catch2_LIBS)


# Find the real .lib/.a and add them to catch2_LIBS and catch2_LIBRARY_LIST
SET(catch2_LIBRARY_LIST )
SET(catch2_LIB_DIRS )
foreach(_LIBRARY_NAME ${catch2_LIBRARY_LIST})
    unset(CONAN_FOUND_LIBRARY CACHE)
    find_library(CONAN_FOUND_LIBRARY NAME ${_LIBRARY_NAME} PATHS ${catch2_LIB_DIRS}
                 NO_DEFAULT_PATH NO_CMAKE_FIND_ROOT_PATH)
    if(CONAN_FOUND_LIBRARY)
        if(${CMAKE_VERSION} VERSION_LESS "3.0")
            list(APPEND catch2_LIBRARIES ${CONAN_FOUND_LIBRARY})
        else() # Create a micro-target for each lib/a found
            set(_LIB_NAME CONAN_LIB::catch2_${_LIBRARY_NAME})
            add_library(${_LIB_NAME} UNKNOWN IMPORTED)
            set_target_properties(${_LIB_NAME} PROPERTIES IMPORTED_LOCATION ${CONAN_FOUND_LIBRARY})
            list(APPEND catch2_LIBRARIES_TARGETS ${_LIB_NAME})
        endif()
        message(STATUS "Found: ${CONAN_FOUND_LIBRARY}")
    else()
        message(STATUS "Library ${_LIBRARY_NAME} not found in package, might be system one")
        list(APPEND catch2_LIBRARIES_TARGETS ${_LIBRARY_NAME})
        list(APPEND catch2_LIBRARIES ${_LIBRARY_NAME})
    endif()
endforeach()
set(catch2_LIBS ${catch2_LIBRARIES})

if(NOT ${CMAKE_VERSION} VERSION_LESS "3.0")
    # Target approach
    if(NOT TARGET catch2::catch2)
        add_library(catch2::catch2 INTERFACE IMPORTED)
        if(catch2_INCLUDE_DIRS)
          set_target_properties(catch2::catch2 PROPERTIES
          INTERFACE_INCLUDE_DIRECTORIES "${catch2_INCLUDE_DIRS}")
        endif()
        set_property(TARGET catch2::catch2 PROPERTY INTERFACE_LINK_LIBRARIES ${catch2_LIBRARIES_TARGETS} "" "")
        set_property(TARGET catch2::catch2 PROPERTY INTERFACE_COMPILE_DEFINITIONS )
        set_property(TARGET catch2::catch2 PROPERTY INTERFACE_COMPILE_OPTIONS "" "")
    endif()
    
endif()
